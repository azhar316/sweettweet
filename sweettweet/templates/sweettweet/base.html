<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Sweet Tweet{%endblock title %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

     <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

    <!-- Font Awesome icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">


    {% block files %}
    {% endblock files %}

    <style>
        .link {
          color: black;
        }

        .box {
          border: 1px dotted;
          padding-left: 10px;
          padding-top: 10px;
          padding-bottom: 10px;
        }

        .border-dotted-bottom {
          border-bottom: 1px dotted;
        }

        .border-dotted-top {
          border-top: 1px dotted;
        }

        .margin-left-sm {
          margin-left: 15px;
        }

        .margin-top-sm {
          margin-top: 15px;
        }

        .margin-bottom-sm {
          margin-bottom: 15px;
        }

        .padding-left-exsm {
          padding-left: 10px;
        }

        .padding-top-exsm {
          padding-top: 10px;
        }

        .padding-bottom-exsm {
          padding-bottom: 10px;
        }

        .padding-left-sm {
          padding-left: 15px;
        }

        .padding-right-sm {
          padding-right: 15px;
        }

        .padding-top-sm {
          padding-top: 15px;
        }

        .padding-bottom-sm {
          padding-bottom: 15px;
        }

        .padding-top-bg {
          padding-top: 45px;
        }

        .padding-left-bg {
          padding-left: 45px;
        }

        .position-fixed {
          position: fixed;
        }

        .avatar {
          vertical-align: middle;
          width: 50px;
          height: 50px;
          border-radius: 50%;
        }

        .avatar-big {
          vertical-align: middle;
          width: 150px;
          height: 150px;
          border-radius: 50%;
        }

    </style>

</head>
<body>

    {% include 'sweettweet/navbar.html' %}
    <div class="container pt-3">
        {% block content %}
        {% endblock content %}
    </div>

    <script>
        function hashtag_and_username_highlighter() {
            var tag_regex = /#\S+/g;
            var user_regex = /@\S+/g;
            var tweets = document.getElementsByClassName('tweet-content');
            for (var i = 0; i < tweets.length; i++) {
                var tweet_text = tweets[i].textContent;
                var tag_matches = tweet_text.match(tag_regex);
                if (tag_matches) {
                    tag_matches.forEach(function(match){
                        tweet_text = tweet_text.replace(match, '<a href="/hashtags/'+match.slice(1)+'/">'+match+'</a>');
                    });}
                var user_matches = tweet_text.match(user_regex);
                if (user_matches) {
                    user_matches.forEach(function(match){
                        tweet_text = tweet_text.replace(match, '<a href="/user/'+match.slice(1)+'/">'+match+'</a>');
                    });}
                tweets[i].innerHTML = tweet_text ;
            }
        }
        window.onload = hashtag_and_username_highlighter;

    </script>

</body>
</html>